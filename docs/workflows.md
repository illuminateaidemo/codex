# End-to-end workflows

## 1. Opportunity to project activation

1. Sales creates opportunity with value, probability, target start/end dates, and demand assumptions.
2. Resource Manager reviews demand envelope and validates skill/region feasibility.
3. Opportunity reaches configurable stage gate (e.g., Commit probability).
4. Project Manager converts opportunity to project with scope, budget, commercial model, and governance template.
5. System carries forward baseline demand and links all records for traceability.

## 2. Resource planning and staffing approvals

1. Project Manager raises demand by role, skill, and timeframe.
2. Resource Manager proposes named allocations.
3. Policy engine flags over-allocation, non-compliant utilisation, and location constraints.
4. Approver (Practice Lead or PMO) approves/rejects staffing decisions.
5. Approved allocations become valid for time entry windows.

## 3. Weekly time submission

1. Delivery Staff enters daily/weekly time against active assignments.
2. Validation enforces:
   - project/activity is open and approved
   - period is open
   - user is authorised for the work item
3. Staff submits timesheet.
4. Project Manager (or delegated approver) approves/rejects with comments.
5. Approved entries lock and are queued for finance posting/export.

## 4. Expense submission and approval

1. Delivery Staff submits expense line with amount, currency, project, category, receipt evidence.
2. Policy engine checks thresholds, category rules, and required evidence.
3. Project/Finance approvers process workflow.
4. Approved expenses lock for closed periods and become export-ready.

## 5. Financial period close and billing readiness

1. Finance opens or closes periods.
2. WIP, unapproved time/expense, and milestone statuses are reconciled.
3. Finance marks items billing-ready.
4. Posting/export package is generated for ERP.
5. Posting result and external references are written back for audit.

## 6. Project health updates

1. Project Manager updates project status (RAG), risk narrative, and forecast.
2. System snapshots health changes and variance metrics.
3. Leadership dashboards consume latest and trend metrics.

